## 스와핑(Swapping)

멀티프로그래밍에서 메모리에 적재되어 있는 프로그램 개수를 decree of mulitiprogramming이라고 하였다. dgree of multiprogramming이 메인 메모리 공간에 비해 너무 높은 경우(프로세스가 너무 많이 메모리에 로드된 경우) 일부 프로세스를 임시로 디스크에 내보냈다가 메모리에 여유가 생기면 다시 불러오는 걸 swapping이라고 하였고, swapping을 할지 결정하는 스케줄러는 미디엄 term 스케줄러이다.

## context switch time including swapping

문맥교환하는 과정에선 스와핑이 포함된 경우

- disptcher가 다음에 실행할 프로세스를 선택을 했는데 이 프로세스가 swap out이 되서 디스크에 머무르는 프로세스라고 하면 이 프로세스를 디스크로 부터 메인 메모리로 불러와야 하는데 메인 메모리에 이 프로세스를 위한 빈 공간이 없는 경우 빈 공간을 마련하기 위해 메인 메모리에 있는 프로세스를 내보내고 원하는 프로세스를 불러와야함.

이런 스와핑을 포함한 문맥교환은 시간이 많이 걸림

### 최근 운영체제의 Swapping

최근 운영체제는 프로세스 단위의 스와핑을 사용하지 않는다.

기본적인 스와핑을 시간이 오래걸리므로 실행에 할당되는 시간이 적어지고 CPU 이용률이 떨어지는 스레싱(Thrasing)이 나타날 확률이 높다. 이는 합리적인 메모리 관리 정책이 될 수 없다. 그래서 변형된 스화핑을 사용하는데 평상시에는 스와핑이 동작하지 않다고 메인 메모리의 공간이 일정 이상 떨어지게 되면 스와핑이 동작하는 방식이다.

스와핑이 동작하는 방식은 프로세스 단위로 스와핑하지 않고 일부만 하여 스와핑에 걸리는 시간을 줄인다. 대부분 스와핑은 시스템의 가상메모리 관리와 맞물려 동작한다.

### 가상 메모리와 Swapping

프로세스의 주소 공간(가상 메모리 주소 공간)에 접근했지만 실제 RAM에 는 없는 경우 페이지 폴트가 발생하고, 프로세스를 실행하기 위해 RAM에 올리려고 했는데 메모리 공간이 부족할 경우 Swapping이 발생한다.
